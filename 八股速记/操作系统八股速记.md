

### 虚拟内存的作用
虚拟内存使得进程运行内存超过物理内存大小
程序运行符合局部性原理，CPU访问内存会有明显的重复访问的倾向，对于没有经常访问的内存，我们可以换出到磁盘

每个进程有自己的页表，每个进程的虚拟内存空间是相互独立的，进程没有办法访问其他进程的页表->解决了多进程之间地址冲突的问题

页表的页表项除了物理地址，还有标记位，控制页的读写权限，内存访问方面，提供了更好的安全性

### 进程调度算法
* 先来先服务 对长作业有利 适合CPU繁忙型， 不适合IO繁忙型

* 最短作业有先 对长作业不利 提高系统吞吐量

* 高响应比有限  （等待时间 + 要求服务时间 ） / 要求服务时间

* 时间片轮转每个进程分配一个时间片 20-50ms

* 最高优先级调度算法
从就绪队列选择最高优先级进程

* 多级反馈队列 优先级越高，时间片越少

### 页面置换算法 缺页异常，需要调入新页面而内存已满，选择被置换的物理页面
选择一个物理页面换出磁盘，把需要访问的页面换入到物理页

* 最佳页面置换算法
置换未来最长时间不访问：衡量算法效率

* 先进先出 选择在内存中驻留时间最长的

* 最近最久未使用LRU： 选择最长时间没有被访问：维护一个所有页面的链表

* 时钟页面置换算法
所有页面保存在类似钟面的环形链表中一个表针指向最老的页面
缺页中断时，先检查表针页面
访问位为0淘汰，插入新页面，前移
访问位位1置为0 前移找到0

* 最不常用 选择访问频率最少的 维护一个计数器

### 磁盘调度算法
先来先服务
最短寻道优先
扫描算法
循环扫描算法
LOOK / C-LOOK

### 键盘敲入字母时，期间发生了什么
当用户输入键盘字符，键盘控制器产生扫描码数据——>缓冲在键盘控制器的寄存器中
键盘控制器通过总线给CPU发送中断请求

CPU收到中断请求后，操作系统保存被中断进程的CPU上下文，然后调用键盘的中断处理程序

中断处理程序在键盘驱动程序初始化时注册，功能：从键盘控制器寄存器的缓冲区读取扫描码，根据扫描码找到对应字符，
翻译成对应ASCII码

得到ASCII码，放到读缓冲队列
显示设备定时从读缓冲队列读取数据到写缓冲队列

最后把写缓冲队列的数据写入显示设备控制器的寄存器的数据缓冲区，最后显示在屏幕

恢复被中断进程的上下文

