虚函数表(vtable)存放在哪里？

## 全局共享

## 虚函数表类似一个数组,类对象中存储vptr指针,指向虚函数表.即虚函数表不是函数,不是程序代码,不能存储在代码段.

## 虚函数表存储虚函数的地址,即虚函数表的元素是指向类成员函数的指针

## 类中虚函数的个数在编译时期可以确定，即虚函数表的大小可以确定，即大小是在编译时期确定的，不必动态分配内存空间存储虚函数表,所以不再堆中；

根据以上特征,虚函数表类似于类中静态成员变量.静态成员变量也是全局共享,大小确定

所以我推测虚函数表和静态成员变量一样,存放在全局数据区.

特点：类似数组、存储指向类成员函数的指针、大小编译器确定



c/c++程序所占用的内存一共分为五种:

栈区、堆区、程序代码区、全局数据区(静态区)、文字常量区

显而易见,虚函数表存放在全局数据区；



经测试：
虚函数表vtable：
在Linux/Unix中存放在可执行文件的只读数据段中(rodata)；
这与微软的编译器将虚函数表存放在常量段存在一些差别。

